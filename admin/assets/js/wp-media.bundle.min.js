require=function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){(function(c){"use strict";var d,e="undefined"!=typeof window?window.Backbone:"undefined"!=typeof c?c.Backbone:null,f=a("cue").l10n,g="undefined"!=typeof window?window.wp:"undefined"!=typeof c?c.wp:null;d=g.media.controller.State.extend({defaults:{id:"cue-playlists",title:f.insertPlaylist||"Insert Playlist",collection:null,content:"cue-playlist-browser",menu:"default",menuItem:{text:f.insertFromCue||"Insert from Cue",priority:130},selection:null,toolbar:"cue-insert-playlist"},initialize:function(a){var b=a.collection||new e.Collection,c=a.selection||new e.Collection;this.set("attributes",new e.Model({id:null,show_playlist:!0})),this.set("collection",b),this.set("selection",c),this.listenTo(c,"remove",this.updateSelection)}}),b.exports=d}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{cue:"cue"}],2:[function(a,b,c){(function(c){"use strict";var d,e="undefined"!=typeof window?window._:"undefined"!=typeof c?c._:null,f=a("../playlist/items"),g=a("../playlist/no-items"),h=a("../playlist/sidebar"),i="undefined"!=typeof window?window.wp:"undefined"!=typeof c?c.wp:null;d=i.Backbone.View.extend({className:"cue-playlist-browser",initialize:function(a){this.collection=a.controller.state().get("collection"),this.controller=a.controller,this._paged=1,this._pending=!1,e.bindAll(this,"scroll"),this.listenTo(this.collection,"reset",this.render),this.collection.length||this.getPlaylists()},render:function(){return this.$el.off("scroll").on("scroll",this.scroll),this.views.add([new f({collection:this.collection,controller:this.controller}),new h({controller:this.controller}),new g({collection:this.collection})]),this},scroll:function(){!this._pending&&this.el.scrollHeight<this.el.scrollTop+3*this.el.clientHeight&&(this._pending=!0,this.getPlaylists())},getPlaylists:function(){var a=this;i.ajax.post("cue_get_playlists",{paged:a._paged}).done(function(b){a.collection.add(b.playlists),a._paged++,a._paged<=b.maxNumPages&&(a._pending=!1,a.scroll())})}}),b.exports=d}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../playlist/items":5,"../playlist/no-items":6,"../playlist/sidebar":7}],3:[function(a,b,c){(function(c){"use strict";var d,e=a("../content/playlist-browser"),f=a("../../controllers/playlists"),g=a("../toolbar/playlist"),h="undefined"!=typeof window?window.wp:"undefined"!=typeof c?c.wp:null,i=h.media.view.MediaFrame.Post;d=i.extend({createStates:function(){i.prototype.createStates.apply(this,arguments),this.states.add(new f({}))},bindHandlers:function(){i.prototype.bindHandlers.apply(this,arguments),this.on("content:create:cue-playlist-browser",this.createCueContent,this),this.on("toolbar:create:cue-insert-playlist",this.createCueToolbar,this)},createCueMenu:function(a){a.view.set({"cue-playlist-separator":new h.media.View({className:"separator",priority:200})})},createCueContent:function(a){a.view=new e({controller:this})},createCueToolbar:function(a){a.view=new g({controller:this})}}),b.exports=d}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../controllers/playlists":1,"../content/playlist-browser":2,"../toolbar/playlist":8}],4:[function(a,b,c){(function(a){"use strict";var c,d="undefined"!=typeof window?window.wp:"undefined"!=typeof a?a.wp:null;c=d.Backbone.View.extend({tagName:"li",className:"cue-playlist-browser-list-item",template:d.template("cue-playlist-browser-list-item"),events:{click:"resetSelection"},initialize:function(a){this.controller=a.controller,this.model=a.model,this.selection=this.controller.state().get("selection"),this.listenTo(this.selection,"add remove reset",this.updateSelectedClass)},render:function(){return this.$el.html(this.template(this.model.toJSON())),this},resetSelection:function(a){this.selection.contains(this.model)?this.selection.remove(this.model):this.selection.reset(this.model)},updateSelectedClass:function(){this.selection.contains(this.model)?this.$el.addClass("is-selected"):this.$el.removeClass("is-selected")}}),b.exports=c}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],5:[function(a,b,c){(function(c){"use strict";var d,e=a("../playlist/item"),f="undefined"!=typeof window?window.wp:"undefined"!=typeof c?c.wp:null;d=f.Backbone.View.extend({className:"cue-playlist-browser-list",tagName:"ul",initialize:function(a){this.collection=a.controller.state().get("collection"),this.controller=a.controller,this.listenTo(this.collection,"add",this.addItem),this.listenTo(this.collection,"reset",this.render)},render:function(){return this.collection.each(this.addItem,this),this},addItem:function(a){var b=new e({controller:this.controller,model:a}).render();this.$el.append(b.el)}}),b.exports=d}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../playlist/item":4}],6:[function(a,b,c){(function(a){"use strict";var c,d="undefined"!=typeof window?window.wp:"undefined"!=typeof a?a.wp:null;c=d.Backbone.View.extend({className:"cue-playlist-browser-empty",tagName:"div",template:d.template("cue-playlist-browser-empty"),initialize:function(a){this.collection=this.collection,this.listenTo(this.collection,"add remove reset",this.toggleVisibility)},render:function(){return this.$el.html(this.template()),this},toggleVisibility:function(){this.$el.toggleClass("is-visible",this.collection.length<1)}}),b.exports=c}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],7:[function(a,b,c){(function(a){"use strict";var c,d="undefined"!=typeof window?window.jQuery:"undefined"!=typeof a?a.jQuery:null,e="undefined"!=typeof window?window.wp:"undefined"!=typeof a?a.wp:null;c=e.Backbone.View.extend({className:"cue-playlist-browser-sidebar media-sidebar",template:e.template("cue-playlist-browser-sidebar"),events:{"change [data-setting]":"updateAttribute"},initialize:function(a){this.attributes=a.controller.state().get("attributes")},render:function(){this.$el.html(this.template())},updateAttribute:function(a){var b=d(a.target),c=b.data("setting"),e=a.target.value;"checkbox"===a.target.type&&(e=!!b.prop("checked")),this.attributes.set(c,e)}}),b.exports=c}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],8:[function(a,b,c){(function(a){"use strict";var c,d="undefined"!=typeof window?window._:"undefined"!=typeof a?a._:null,e="undefined"!=typeof window?window.wp:"undefined"!=typeof a?a.wp:null;c=e.media.view.Toolbar.extend({initialize:function(a){this.controller=a.controller,d.bindAll(this,"insertCueShortcode"),this.options.items=d.defaults(this.options.items||{},{insert:{text:e.media.view.l10n.insertIntoPost||"Insert into post",style:"primary",priority:80,requires:{selection:!0},click:this.insertCueShortcode}}),e.media.view.Toolbar.prototype.initialize.apply(this,arguments)},insertCueShortcode:function(){var a,b=this.controller.state(),c=b.get("attributes").toJSON(),f=b.get("selection").first();c.id=f.get("id"),d.pick(c,"id","theme","width","show_playlist"),c.show_playlist?delete c.show_playlist:c.show_playlist="0",a=e.shortcode.string({tag:"cue",type:"single",attrs:c}),e.media.editor.insert(a),this.controller.close()}}),b.exports=c}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],9:[function(a,b,c){"use strict";!function(b){var c=a("cue");c.settings(_cueMediaSettings),b.media.view.MediaFrame.Post=a("./views/frame/insert-playlist")}(wp)},{"./views/frame/insert-playlist":3,cue:"cue"}],cue:[function(a,b,c){(function(a){"use strict";function c(){var a={};d.extend(this,{controller:{},l10n:{},model:{},view:{}}),this.settings=function(b){return b&&d.extend(a,b),a.l10n&&(this.l10n=d.extend(this.l10n,a.l10n),delete a.l10n),a||{}}}var d="undefined"!=typeof window?window._:"undefined"!=typeof a?a._:null;a.cue=a.cue||new c,b.exports=a.cue}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[9]);